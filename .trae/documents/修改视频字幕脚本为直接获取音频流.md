## 修改方案

### 核心思路
将当前的"录制音频并转换为WAV"的实现，改为直接获取视频的音频流并发送给后端。

### 关键修改点
1. **移除复杂的录音逻辑**：删除`recordVideoAudio`函数中使用`AudioContext`、`MediaElementSourceNode`和`ScriptProcessorNode`的录音实现
2. **实现直接获取音频流**：使用`MediaStream` API直接从视频元素获取音频流
3. **简化音频处理**：避免将音频转换为WAV格式，直接将原始流或简单处理后发送给后端
4. **保持原有架构**：保留UI、字幕显示、后端通信等其他功能不变

### 技术实现
1. 使用`video.captureStream()`获取包含音频的MediaStream
2. 从MediaStream中提取音频轨道
3. 创建新的MediaStream只包含音频轨道
4. 使用`MediaRecorder`录制指定时长的音频
5. 将录制的音频Blob直接发送给后端

### 修改文件
- `simple_subtitle_demo.user.js`：核心脚本文件

### 预期效果
- 避免"HTMLMediaElement already connected"错误
- 简化音频处理流程
- 提高性能和可靠性
- 保持与后端服务的兼容性

### 实施步骤
1. 修改`recordVideoAudio`函数，实现直接获取音频流
2. 保留其他函数不变，确保UI和字幕显示正常
3. 测试修改后的脚本，确保能正常生成字幕